# Автоматические e2e тесты для проекта «Большое путешествие»

## Установка тестов

1. Склонируйте репозиторий и перейдите в созданную директорию.

2. Установите зависимости командой `npm install`.

## Тестирование проекта

1. Откройте терминал и перейдите в директорию с проектом «Большое путешествие». Запустите проект командой `npm start`. Обратите внимание, по какому адресу стартовал проект.

2. Откройте файл [cypress.config.js](cypress.config.js) и убедитесь, что в настройке `baseUrl` указан тот же URL, на котором доступен «Большое путешествие». Если адрес отличается, измените настройку.

3. Не останавливая работу проекта «Большое путешествие», откройте новое окно (или вкладку) терминала и перейдите в директорию с тестами. Запустите Cypress командой `npm test`.

4. В открывшемся окне выберите вариант `E2E Testing`.

![Приветственный экран Cypress](assets/welcome-screen.png "Приветственный экран Cypress")

5. Теперь выберите браузер, в котором хотите протестировать проект.

> На данный момент поддержка WebKit экспериментальная, тесты могут работать нестабильно.

![Экран выбора браузера](assets/browser-screen.png "Экран выбора браузера")

6. Выберите одну из предложенных спецификаций:

    - all - запустит все тесты;
    - edit-point - запустит тестирование формы редактирования (пункт 1.5);
    - extra - запустит тестирование дополнительных заданий (пункт 2);
    - feedback - запустит тестирование обратной связи интерфейса (пункт 1.9);
    - filter - запустит тестирование фильтров (пункт 1.6);
    - new-point - запустит тестирование формы создания новой точки (пункт 1.4);
    - point - запустит тестирование карточки точки маршрута (пункт 1.3);
    - route - запустит тестирование списка точек (пункт 1.2);
    - sort - запустит тестирование сортировки (пункт 1.7);


![Экран выбора спецификации](assets/spec-screen.png "Экран выбора спецификации")


Номер рядом со спецификацией означает пункт технического задания, который в ней проверяется.

![Все тесты прошли](assets/all-passed.png "Все тесты прошли")

Вы можете изменить браузер, не выходя в главное меню. Тесты выбранной спецификации запустятся в новом браузере автоматически.

![Смена браузера](assets/change-browser.png "Смена браузера")

Если на одном из шагов сценария призошла ошибка, Cypress прекратит выполнение данного сценария и перейдёт к следующему.

Вы можете развернуть описание шага и узнать, что пошло не так.

![Тест упал](assets/error-test.png "Тест упал")
